
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>docker · 狂欢马克思-个人笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Howe Hsiang">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../k8s/k8s.html" />
    
    
    <link rel="prev" href="../vm.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="http://www.hosiang.cn" target="_blank" class="custom-link">主页</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">简介</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.1.</b>
                    
                    简介
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../ABOUT_BLOG.html">
            
                <a href="../../ABOUT_BLOG.html">
            
                    
                        <b>2.1.</b>
                    
                    关于笔记
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">知识总结</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../java/introduce.html">
            
                <a href="../../java/introduce.html">
            
                    
                        <b>3.1.</b>
                    
                    Java开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../java/ecology/introduce.html">
            
                <a href="../../java/ecology/introduce.html">
            
                    
                        <b>3.1.1.</b>
                    
                    JVM生态
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.</b>
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1.1" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.1.</b>
                    
                    内存划分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.2" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.2.</b>
                    
                    内存分配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.3" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.3.</b>
                    
                    对象创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.4" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.4.</b>
                    
                    类加载机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.5" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.5.</b>
                    
                    垃圾回收
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.6" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.6.</b>
                    
                    OOM分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.1.7" data-path="../../java/ecology/jvm/memory.html">
            
                <a href="../../java/ecology/jvm/memory.html">
            
                    
                        <b>3.1.1.1.7.</b>
                    
                    Volatile 关键字
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="../../java/ecology/javaSE/summary.html">
            
                <a href="../../java/ecology/javaSE/summary.html">
            
                    
                        <b>3.1.1.2.</b>
                    
                    Java SE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.2.1" data-path="../../java/ecology/javaSE/summary.html">
            
                <a href="../../java/ecology/javaSE/summary.html">
            
                    
                        <b>3.1.1.2.1.</b>
                    
                    发展概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.2" data-path="../../java/ecology/javaSE/grammar.html">
            
                <a href="../../java/ecology/javaSE/grammar.html">
            
                    
                        <b>3.1.1.2.2.</b>
                    
                    基础语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.3" data-path="../../java/ecology/javaSE/oop.html">
            
                <a href="../../java/ecology/javaSE/oop.html">
            
                    
                        <b>3.1.1.2.3.</b>
                    
                    面向对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.4" data-path="../../java/ecology/javaSE/api.html">
            
                <a href="../../java/ecology/javaSE/api.html">
            
                    
                        <b>3.1.1.2.4.</b>
                    
                    基础类库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.5" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.5.</b>
                    
                    数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.6" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.6.</b>
                    
                    方法数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.7" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.7.</b>
                    
                    集合框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.8" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.8.</b>
                    
                    高级特性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.9" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.9.</b>
                    
                    IO流操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.10" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.2.10.</b>
                    
                    异常处理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.3.</b>
                    
                    Java EE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.3.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.3.1.</b>
                    
                    Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.3.2.</b>
                    
                    Servlet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.4.</b>
                    
                    Java Web
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.4.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.4.1.</b>
                    
                    开源框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.4.2.</b>
                    
                    常用集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.1.4.3.</b>
                    
                    项目管理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.2.</b>
                    
                    高级开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.1.</b>
                    
                    反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.2.</b>
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.3.</b>
                    
                    正则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.4.</b>
                    
                    网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.5.</b>
                    
                    算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.2.6.</b>
                    
                    多线程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.3.</b>
                    
                    设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.3.1.</b>
                    
                    创建类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.3.2.</b>
                    
                    结构类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.3.3.</b>
                    
                    行为类型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.4.</b>
                    
                    架构方案
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.4.1.</b>
                    
                    分布式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.4.2.</b>
                    
                    集群式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.4.3.</b>
                    
                    微服务
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.5.</b>
                    
                    容器技术
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.5.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.5.1.</b>
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.5.2.</b>
                    
                    Kubernetes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.6.</b>
                    
                    项目优化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.6.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.6.1.</b>
                    
                    异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.6.2.</b>
                    
                    优化方法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.7.</b>
                    
                    前端技术
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.7.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.7.1.</b>
                    
                    Html/Css
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.7.2.</b>
                    
                    JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.7.3.</b>
                    
                    JQuery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7.4" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.7.4.</b>
                    
                    Frame
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.8.</b>
                    
                    操作系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.8.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.8.1.</b>
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.8.2.</b>
                    
                    Mac
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.8.3.</b>
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.4" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.8.4.</b>
                    
                    Virtual
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>3.1.9.</b>
                    
                    数据库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.9.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.1.</b>
                    
                    基本知识
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.2" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.2.</b>
                    
                    常用语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.3" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.3.</b>
                    
                    性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.4" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.4.</b>
                    
                    数据库锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.5" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.5.</b>
                    
                    分库分表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.6" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.6.</b>
                    
                    索引原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.7" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>3.1.9.7.</b>
                    
                    隔离级别
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">面试技巧</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>4.1.</b>
                    
                    笔试题型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>4.2.</b>
                    
                    面谈问答
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">其他</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../knowledge.html">
            
                <a href="../../knowledge.html">
            
                    
                        <b>5.1.</b>
                    
                    知识库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../../OS/os.html">
            
                <a href="../../OS/os.html">
            
                    
                        <b>5.1.1.</b>
                    
                    操作系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1.1" data-path="../../OS/linux/linux.html">
            
                <a href="../../OS/linux/linux.html">
            
                    
                        <b>5.1.1.1.</b>
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1.1.1" data-path="../../OS/linux/https认证逻辑.html">
            
                <a href="../../OS/linux/https认证逻辑.html">
            
                    
                        <b>5.1.1.1.1.</b>
                    
                    https认证逻辑
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.1.2" data-path="../../OS/win/windows.html">
            
                <a href="../../OS/win/windows.html">
            
                    
                        <b>5.1.1.2.</b>
                    
                    windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.1.3" data-path="../../OS/unix/unix.html">
            
                <a href="../../OS/unix/unix.html">
            
                    
                        <b>5.1.1.3.</b>
                    
                    Unix
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../../db/db.html">
            
                <a href="../../db/db.html">
            
                    
                        <b>5.1.2.</b>
                    
                    数据库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.2.1" data-path="../../db/mysql/mysql.html">
            
                <a href="../../db/mysql/mysql.html">
            
                    
                        <b>5.1.2.1.</b>
                    
                    mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.2" data-path="../../db/redis/redis.html">
            
                <a href="../../db/redis/redis.html">
            
                    
                        <b>5.1.2.2.</b>
                    
                    redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../../monitor/monitor.html">
            
                <a href="../../monitor/monitor.html">
            
                    
                        <b>5.1.3.</b>
                    
                    监控系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.3.1" data-path="../../monitor/zabbix/zabbix.html">
            
                <a href="../../monitor/zabbix/zabbix.html">
            
                    
                        <b>5.1.3.1.</b>
                    
                    zabbix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.3.1.1" data-path="../../monitor/zabbix/python实现zabbix告警推送钉钉.html">
            
                <a href="../../monitor/zabbix/python实现zabbix告警推送钉钉.html">
            
                    
                        <b>5.1.3.1.1.</b>
                    
                    python实现zabbix告警推送钉钉
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.3.2" data-path="../../monitor/prometheus/prometheus.html">
            
                <a href="../../monitor/prometheus/prometheus.html">
            
                    
                        <b>5.1.3.2.</b>
                    
                    prometheus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3.3" data-path="../../monitor/elk/elk.html">
            
                <a href="../../monitor/elk/elk.html">
            
                    
                        <b>5.1.3.3.</b>
                    
                    ELK
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../../web/web.html">
            
                <a href="../../web/web.html">
            
                    
                        <b>5.1.4.</b>
                    
                    web服务器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.4.1" data-path="../../web/nginx/nginx.html">
            
                <a href="../../web/nginx/nginx.html">
            
                    
                        <b>5.1.4.1.</b>
                    
                    nginx
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.4.1.1" data-path="../../web/nginx/notes/notes.html">
            
                <a href="../../web/nginx/notes/notes.html">
            
                    
                        <b>5.1.4.1.1.</b>
                    
                    nginx学习笔记
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.4.1.1.1" data-path="../../web/nginx/notes/nginx基础.html">
            
                <a href="../../web/nginx/notes/nginx基础.html">
            
                    
                        <b>5.1.4.1.1.1.</b>
                    
                    nginx基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.2" data-path="../../web/nginx/notes/nginx服务器架构初探.html">
            
                <a href="../../web/nginx/notes/nginx服务器架构初探.html">
            
                    
                        <b>5.1.4.1.1.2.</b>
                    
                    nginx服务器架构初探
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.3" data-path="../../web/nginx/notes/nginx服务器的高级配置.html">
            
                <a href="../../web/nginx/notes/nginx服务器的高级配置.html">
            
                    
                        <b>5.1.4.1.1.3.</b>
                    
                    nginx服务器的高级配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.4" data-path="../../web/nginx/notes/gzip压缩.html">
            
                <a href="../../web/nginx/notes/gzip压缩.html">
            
                    
                        <b>5.1.4.1.1.4.</b>
                    
                    gzip压缩
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.5" data-path="../../web/nginx/notes/Rewrite.html">
            
                <a href="../../web/nginx/notes/Rewrite.html">
            
                    
                        <b>5.1.4.1.1.5.</b>
                    
                    Rewrite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.6" data-path="../../web/nginx/notes/proxy.html">
            
                <a href="../../web/nginx/notes/proxy.html">
            
                    
                        <b>5.1.4.1.1.6.</b>
                    
                    proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4.1.1.7" data-path="../../web/nginx/notes/nginx缓存.html">
            
                <a href="../../web/nginx/notes/nginx缓存.html">
            
                    
                        <b>5.1.4.1.1.7.</b>
                    
                    nginx缓存
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../vm.html">
            
                <a href="../vm.html">
            
                    
                        <b>5.1.5.</b>
                    
                    虚拟化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="5.1.5.1" data-path="docker.html">
            
                <a href="docker.html">
            
                    
                        <b>5.1.5.1.</b>
                    
                    docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2" data-path="../k8s/k8s.html">
            
                <a href="../k8s/k8s.html">
            
                    
                        <b>5.1.5.2.</b>
                    
                    kubernetes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.5.2.1" data-path="../k8s/基于RBAC实现dashboard只读-view权限.html">
            
                <a href="../k8s/基于RBAC实现dashboard只读-view权限.html">
            
                    
                        <b>5.1.5.2.1.</b>
                    
                    基于RBAC实现dashboard只读-view权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2" data-path="../k8s/notes.html">
            
                <a href="../k8s/notes.html">
            
                    
                        <b>5.1.5.2.2.</b>
                    
                    kubernetes权威指南读书笔记
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.5.2.2.1" data-path="../k8s/基础概念.html">
            
                <a href="../k8s/基础概念.html">
            
                    
                        <b>5.1.5.2.2.1.</b>
                    
                    基础概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2.2" data-path="../k8s/pod详解.html">
            
                <a href="../k8s/pod详解.html">
            
                    
                        <b>5.1.5.2.2.2.</b>
                    
                    pod详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2.3" data-path="../k8s/service详解.html">
            
                <a href="../k8s/service详解.html">
            
                    
                        <b>5.1.5.2.2.3.</b>
                    
                    service详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2.4" data-path="../k8s/kubernetes核心原理.html">
            
                <a href="../k8s/kubernetes核心原理.html">
            
                    
                        <b>5.1.5.2.2.4.</b>
                    
                    核心原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2.5" data-path="../k8s/集群安全机制.html">
            
                <a href="../k8s/集群安全机制.html">
            
                    
                        <b>5.1.5.2.2.5.</b>
                    
                    集群安全机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.2.6" data-path="../k8s/日志收集.html">
            
                <a href="../k8s/日志收集.html">
            
                    
                        <b>5.1.5.2.2.6.</b>
                    
                    日志收集
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.5.2.3" data-path="../k8s/企业实践整理.html">
            
                <a href="../k8s/企业实践整理.html">
            
                    
                        <b>5.1.5.2.3.</b>
                    
                    企业实践整理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../chedan/chedan.html">
            
                <a href="../../chedan/chedan.html">
            
                    
                        <b>6.1.</b>
                    
                    瞎扯淡
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../ABOUT_ME.html">
            
                <a href="../../ABOUT_ME.html">
            
                    
                        <b>6.1.1.</b>
                    
                    个人简历
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >docker</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><a href="#docker">docker</a></li><ul><li><a href="#&#x955C;&#x50CF;&#x7BA1;&#x7406;">&#x955C;&#x50CF;&#x7BA1;&#x7406;</a></li><ul><li><a href="#&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;">&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;</a></li><li><a href="#&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;">&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;</a></li><li><a href="#dockerfile&#x8BE6;&#x89E3;">dockerfile&#x8BE6;&#x89E3;</a></li><li><a href="#&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA;-&#xFF1F;&#xFF1F;&#xFF1F;">&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA; &#xFF1F;&#xFF1F;&#xFF1F;</a></li><li><a href="#&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;">&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;</a></li></ul><li><a href="#&#x5BB9;&#x5668;&#x64CD;&#x4F5C;">&#x5BB9;&#x5668;&#x64CD;&#x4F5C;</a></li><ul><li><a href="#&#x542F;&#x505C;">&#x542F;&#x505C;</a></li><li><a href="#&#x5B88;&#x62A4;&#x72B6;&#x6001;">&#x5B88;&#x62A4;&#x72B6;&#x6001;</a></li><li><a href="#&#x8FDB;&#x5165;&#x5BB9;&#x5668;">&#x8FDB;&#x5165;&#x5BB9;&#x5668;</a></li><li><a href="#&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;">&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;</a></li><li><a href="#&#x5220;&#x9664;">&#x5220;&#x9664;</a></li></ul><li><a href="#docker&#x6570;&#x636E;&#x7BA1;&#x7406;">docker&#x6570;&#x636E;&#x7BA1;&#x7406;</a></li><ul><li><a href="#&#x6570;&#x636E;&#x5377;">&#x6570;&#x636E;&#x5377;</a></li><li><a href="#&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;">&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;</a></li></ul><li><a href="#docker&#x7F51;&#x7EDC;">docker&#x7F51;&#x7EDC;</a></li><ul><li><a href="#&#x7AEF;&#x53E3;&#x6620;&#x5C04;">&#x7AEF;&#x53E3;&#x6620;&#x5C04;</a></li><li><a href="#&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge">&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge</a></li></ul><li><a href="#&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;">&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;</a></li><li><a href="#docker-compose">docker compose</a></li></ul></ul></div><a href="#docker" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="docker"><a name="docker" class="anchor-navigation-ex-anchor" href="#docker"><i class="fa fa-link" aria-hidden="true"></i></a>docker</h1>
<p>[TOC]</p>
<h2 id="&#x955C;&#x50CF;&#x7BA1;&#x7406;"><a name="&#x955C;&#x50CF;&#x7BA1;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x955C;&#x50CF;&#x7BA1;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x955C;&#x50CF;&#x7BA1;&#x7406;</h2>
<h3 id="&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;"><a name="&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x955C;&#x50CF;&#x5E38;&#x89C4;&#x7BA1;&#x7406;&#x547D;&#x4EE4;</h3>
<h4 id="&#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF;"><a name="&#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx               latest              5699ececb21c        2 days ago          109MB
ubuntu              latest              113a43faa138        3 weeks ago         81.2MB
&#x279C;  ~ docker image ls
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx               latest              5699ececb21c        2 days ago          109MB
ubuntu              latest              113a43faa138        3 weeks ago         81.2MB
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x865A;&#x60AC;&#x955C;&#x50CF;"><a name="&#x67E5;&#x770B;&#x865A;&#x60AC;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x865A;&#x60AC;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x865A;&#x60AC;&#x955C;&#x50CF;</h4>
<p>&#x6CA1;&#x6709;&#x4ED3;&#x5E93;&#x540D;&#x6CA1;&#x6709;tag&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x5C31;&#x662F;&#x865A;&#x60AC;&#x955C;&#x50CF;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;</p>
<pre><code class="lang-shell">docker image ls -f dangling=true&#x279C;  ~ docker image ls -f dangling=true
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</code></pre>
<p>&#x5220;&#x9664;&#x865A;&#x60AC;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">&#x279C;  ~ docker image prune
WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] y
Total reclaimed space: 0B
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x5B9E;&#x9645;&#x78C1;&#x76D8;&#x5360;&#x7528;"><a name="&#x67E5;&#x770B;&#x5B9E;&#x9645;&#x78C1;&#x76D8;&#x5360;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x5B9E;&#x9645;&#x78C1;&#x76D8;&#x5360;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x5B9E;&#x9645;&#x78C1;&#x76D8;&#x5360;&#x7528;</h4>
<pre><code class="lang-shell">&#x279C;  ~ &#x279C;  ~ docker system df 
TYPE                TOTAL               ACTIVE              SIZE                RECLAIMABLE
Images              2                   1                   190.1MB             109MB (57%)
Containers          1                   1                   0B                  0B
Local Volumes       0                   0                   0B                  0B
Build Cache
</code></pre>
<h4 id="&#x4E2D;&#x95F4;&#x5C42;&#x955C;&#x50CF;"><a name="&#x4E2D;&#x95F4;&#x5C42;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x4E2D;&#x95F4;&#x5C42;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E2D;&#x95F4;&#x5C42;&#x955C;&#x50CF;</h4>
<p>&#x88AB;&#x9876;&#x5C42;&#x955C;&#x50CF;&#x4F9D;&#x8D56;&#x7684;&#x955C;&#x50CF;&#x53EB;&#x505A;&#x4E2D;&#x95F4;&#x5C42;&#x955C;&#x50CF;&#xFF0C;&#x6CA1;&#x6709;tag</p>
<pre><code class="lang-shell">&#x279C;  ~ sudo docker image ls -a
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
nginx               latest              5699ececb21c        2 days ago          109MB
ubuntu              16.04               5e8b97a2a082        3 weeks ago         114MB
ubuntu              latest              113a43faa138        3 weeks ago         81.2MB
</code></pre>
<h4 id="&#x955C;&#x50CF;&#x6458;&#x8981;"><a name="&#x955C;&#x50CF;&#x6458;&#x8981;" class="anchor-navigation-ex-anchor" href="#&#x955C;&#x50CF;&#x6458;&#x8981;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x955C;&#x50CF;&#x6458;&#x8981;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker image ls --digests 
REPOSITORY          TAG                 DIGEST                                                                    IMAGE ID            CREATED             SIZE
nginx               latest              sha256:62a095e5da5f977b9f830adaf64d604c614024bf239d21068e4ca826d0d629a4   5699ececb21c        2 days ago          109MB
ubuntu              16.04               sha256:b050c1822d37a4463c01ceda24d0fc4c679b0dd3c43e742730e2884d3c582e3a   5e8b97a2a082        3 weeks ago         114MB
ubuntu              latest              sha256:778d2aed25eb85ec40548addb582cbffd0ca6fe5d2a382cb7f3a8958c1ed50d6   113a43faa138        3 weeks ago         81.2MB
</code></pre>
<h4 id="&#x5220;&#x9664;&#x955C;&#x50CF;"><a name="&#x5220;&#x9664;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x955C;&#x50CF;</h4>
<pre><code class="lang-shell">docker image rm image_ID
</code></pre>
<h3 id="&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;"><a name="&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x6CD5;</h3>
<h4 id="commit"><a name="commit" class="anchor-navigation-ex-anchor" href="#commit"><i class="fa fa-link" aria-hidden="true"></i></a>commit</h4>
<p>&#x5BF9;&#x539F;&#x6709;docker image&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x7136;&#x540E;commit&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x5BF9;&#x955C;&#x50CF;&#x5185;&#x5F88;&#x591A;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x5B9E;&#x9645;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;commit</p>
<ul>
<li><p>pull&#x4E00;&#x4E2A;nginx</p>
<pre><code class="lang-shell">&#x279C;  ~ sudo docker run --name webserver -d -p 80:80 nginx
</code></pre>
</li>
<li><p>&#x8FDE;&#x63A5;nginx</p>
<pre><code class="lang-shell">&#x279C;  ~ docker exec -it webserver bash
</code></pre>
</li>
<li><p>&#x4FEE;&#x6539;html</p>
<pre><code class="lang-shell">&#x279C;  ~ x.htmlc0e9a0ede4a:/# echo &apos;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&apos; &gt; /usr/share/nginx/html/index
</code></pre>
</li>
<li><p>&#x67E5;&#x770B;&#x955C;&#x50CF;&#x7684;&#x6539;&#x52A8;</p>
<pre><code class="lang-shell">&#x279C;  ~ sudo docker diff webserver
C /root
A /root/.bash_history
C /run
A /run/nginx.pid
C /usr/share/nginx/html/index.html
C /var/cache/nginx
D /var/cache/nginx/client_temp
D /var/cache/nginx/fastcgi_temp
D /var/cache/nginx/proxy_temp
D /var/cache/nginx/scgi_temp
D /var/cache/nginx/uwsgi_temp
&#x279C;  ~ 
&#x279C;  ~ x.htmlc0e9a0ede4a:/# echo &apos;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&apos; &gt; /usr/share/nginx/html/index
</code></pre>
</li>
<li><p>commit&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker commit \
--author &quot;Tao Wang &lt;twang2218@gmail.com&gt;&quot; \
--message &quot;&#x4FEE;&#x6539;&#x4E86;&#x9ED8;&#x8BA4;&#x7F51;&#x9875;&quot; \
webserver \
nginx:v2
</code></pre>
</li>
<li><p>&#x67E5;&#x770B;&#x955C;&#x50CF;&#x64CD;&#x4F5C;&#x5386;&#x53F2;</p>
<pre><code class="lang-shell">&#x279C;  ~ sudo docker history nginx:v2
[sudo] wyny &#x7684;&#x5BC6;&#x7801;&#xFF1A; 
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
0f7f4f5291b4        27 minutes ago      nginx -g daemon off;                            97B                 &#x4FEE;&#x6539;&#x4E86;&#x9ED8;&#x8BA4;&#x7F51;&#x9875;
5699ececb21c        5 days ago          /bin/sh -c #(nop)  CMD [&quot;nginx&quot; &quot;-g&quot; &quot;daemon&#x2026;   0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  STOPSIGNAL [SIGTERM]         0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  EXPOSE 80/tcp                0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c ln -sf /dev/stdout /var/log/nginx&#x2026;   22B                 
&lt;missing&gt;           5 days ago          /bin/sh -c set -x  &amp;&amp; apt-get update  &amp;&amp; apt&#x2026;   53.7MB              
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  ENV NJS_VERSION=1.15.0.0.&#x2026;   0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  ENV NGINX_VERSION=1.15.0-&#x2026;   0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  LABEL maintainer=NGINX Do&#x2026;   0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop)  CMD [&quot;bash&quot;]                 0B                  
&lt;missing&gt;           5 days ago          /bin/sh -c #(nop) ADD file:28fbc9fd012eef727&#x2026;   55.3MB
</code></pre>
</li>
</ul>
<h4 id="dockerfile"><a name="dockerfile" class="anchor-navigation-ex-anchor" href="#dockerfile"><i class="fa fa-link" aria-hidden="true"></i></a>dockerfile</h4>
<pre><code class="lang-shell">&#x279C;  docker cat nginx_v1/Dockerfile 
from nginx
run echo &apos;&lt;h1&gt;Hello,Docker!&lt;/h1&gt;&apos;  &gt;  /usr/share/nginx/html/index.html
</code></pre>
<h5 id="&#x6784;&#x5EFA;&#x955C;&#x50CF;"><a name="&#x6784;&#x5EFA;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x5EFA;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6784;&#x5EFA;&#x955C;&#x50CF;</h5>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>build&#x6700;&#x540E;&#x4E00;&#x4F4D;&#x7684;&#x53C2;&#x6570;.&#x6307;&#x7684;&#x5E76;&#x4E0D;&#x662F;dockerfile&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x662F;context&#x7684;&#x76EE;&#x5F55;</p>
<pre><code class="lang-shell">docker build -t nginx:v3 .
Sending build context to Docker daemon 2.048 kB
Step 1 : FROM nginx
---&gt; e43d811ce2f4
Step 2 : RUN echo &apos;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&apos; &gt; /usr/share/nginx/html/index.html
---&gt; Running in 9cdc27646c7b
---&gt; 44aa4490ce2c
Removing intermediate container 9cdc27646c7b
Successfully built 44aa4490ce2c
</code></pre>
<h5 id="context&#x76EE;&#x5F55;"><a name="context&#x76EE;&#x5F55;" class="anchor-navigation-ex-anchor" href="#context&#x76EE;&#x5F55;"><i class="fa fa-link" aria-hidden="true"></i></a>context&#x76EE;&#x5F55;</h5>
<p>docker&#x955C;&#x50CF;&#x6784;&#x7B51;&#x539F;&#x7406;&#xFF1A;client&#x901A;&#x8FC7;&#x4E0E;docker&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x7684;restAPI&#x901A;&#x4FE1;&#xFF0C;&#x7531;server&#x5B8C;&#x6210;&#x6784;&#x7B51;&#xFF0C;&#x56E0;&#x6B64;build&#x4E2D;&#x7684;&#x8DEF;&#x5F84;.&#x662F;context&#x76EE;&#x5F55;</p>
<p>docker&#x4ECE;&#x672C;&#x5730;COPY&#x5185;&#x5BB9;&#x81F3;&#x955C;&#x50CF;&#x65F6;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;<code>COPY ./package.json  /app/</code>&#xFF0C;&#x5C06;&#x672C;&#x5730;&#x7684;package.json&#x62F7;&#x8D1D;&#x5230;&#x955C;&#x50CF;&#x7684;/app&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x91CC;&#x7684;./package.json&#x5E76;&#x4E0D;&#x662F;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x662F;build&#x65F6;&#x5199;&#x5165;&#x7684;context&#x76EE;&#x5F55;</p>
<p>&#x4E00;&#x822C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x5EFA;&#x8BAE;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5199;&#x5165;dockerfile&#xFF0C;&#x5E76;&#x5C06;&#x9700;&#x8981;COPY&#x7684;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x5728;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x5939;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;build&#x547D;&#x4EE4;</p>
<h4 id="git-repo"><a name="git-repo" class="anchor-navigation-ex-anchor" href="#git-repo"><i class="fa fa-link" aria-hidden="true"></i></a>git repo</h4>
<p>&#x57FA;&#x4E8E;&#x4ED3;&#x5E93;&#x5185;&#x7684;11.0&#x76EE;&#x5F55;&#x4E0B;&#x7684;dockerfile</p>
<pre><code class="lang-shell">&#x279C;  ~ sudo docker build https://github.com/twang2218/gitlab-ce-zh.git\#:11.0
[sudo] wyny &#x7684;&#x5BC6;&#x7801;&#xFF1A; 
Sending build context to Docker daemon  5.632kB
Step 1/23 : FROM gitlab/gitlab-ce:11.0.1-ce.0 as builder
11.0.1-ce.0: Pulling from gitlab/gitlab-ce
b234f539f7a1: Already exists 
55172d420b43: Already exists 
5ba5bbeb6b91: Already exists 
43ae2841ad7a: Already exists 
f6c9c6de4190: Already exists 
e6597e975df6: Downloading [=====&gt;                                             ]  3.006MB/26.24MB
73dc92c66025: Download complete 
5282194f87d6: Download complete 
df88dfe59bb1: Download complete 
dffab5bd4f6d: Download complete 
945907026b4f: Downloading [&gt;                                                  ]   3.26MB/443.6MB
</code></pre>
<h4 id="tar"><a name="tar" class="anchor-navigation-ex-anchor" href="#tar"><i class="fa fa-link" aria-hidden="true"></i></a>tar</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker build http://server/context.tar.gz
</code></pre>
<h4 id="stdinput"><a name="stdinput" class="anchor-navigation-ex-anchor" href="#stdinput"><i class="fa fa-link" aria-hidden="true"></i></a>std_input</h4>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0D;&#x5B58;&#x5728;build&#x7684;context&#x76EE;&#x5F55;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;COPY&#x6587;&#x4EF6;</p>
<pre><code class="lang-shell">&#x279C;  ~ docker build - &lt; Dockerfile
</code></pre>
<pre><code class="lang-shell">&#x279C;  ~ cat Dockerfile | docker build -
</code></pre>
<h3 id="dockerfile&#x8BE6;&#x89E3;"><a name="dockerfile&#x8BE6;&#x89E3;" class="anchor-navigation-ex-anchor" href="#dockerfile&#x8BE6;&#x89E3;"><i class="fa fa-link" aria-hidden="true"></i></a>dockerfile&#x8BE6;&#x89E3;</h3>
<h4 id="from"><a name="from" class="anchor-navigation-ex-anchor" href="#from"><i class="fa fa-link" aria-hidden="true"></i></a>FROM</h4>
<p>&#x4EE5;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x4E3A;&#x57FA;&#x7840;&#x5728;&#x5176;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x5B9A;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x3001;&#x670D;&#x52A1;&#x955C;&#x50CF;&#xFF0C;&#x8FD8;&#x6709;&#x7279;&#x6B8A;&#x955C;&#x50CF;scratch&#xFF0C;&#x8868;&#x793A;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x7279;&#x6B8A;&#x955C;&#x50CF;</p>
<p>scratch&#x5185;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5185;&#x5BB9;&#xFF0C;&#x6CA1;&#x6709;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x8FDB;&#x955C;&#x50CF;&#x540E;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x5236;&#x4F5C;&#x51FA;&#x6765;&#x7684;&#x955C;&#x50CF;&#x4F53;&#x79EF;&#x5F88;&#x5C0F;&#xFF0C;&#x5F88;&#x9002;&#x5408;GO&#x8BED;&#x8A00;&#x5F00;&#x53D1;&#x7684;&#x5E94;&#x7528;</p>
<h4 id="run"><a name="run" class="anchor-navigation-ex-anchor" href="#run"><i class="fa fa-link" aria-hidden="true"></i></a>RUN</h4>
<p>&#x6BCF;&#x4E00;&#x4E2A;RUN&#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x6B21;commit&#xFF0C;&#x6709;&#x591A;&#x5C11;RUN&#x5C31;&#x4F1A;&#x5728;docker&#x4E0A;&#x5C01;&#x88C5;&#x51E0;&#x5C42;</p>
<ul>
<li>&#x200B;    shell&#x547D;&#x4EE4;</li>
<li>exec&#x6587;&#x4EF6;</li>
</ul>
<p><strong>&#x591A;&#x6B21;RUN</strong></p>
<p>&#x4E3A;&#x4E86;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;redis&#x5199;&#x4E86;7&#x6761;run&#xFF0C;&#x955C;&#x50CF;&#x4F1A;&#x5C01;&#x88C5;7&#x6B21;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x955C;&#x50CF;&#x4F1A;&#x5F88;&#x81C3;&#x80BF;</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">FROM</span> debian:jessie
<span class="hljs-keyword">RUN</span> <span class="bash">apt-get update
</span><span class="hljs-keyword">RUN</span> <span class="bash">apt-get install -y gcc libc6-dev make
</span><span class="hljs-keyword">RUN</span> <span class="bash">wget -O redis.tar.gz <span class="hljs-string">&quot;http://download.redis.io/releases/redis-3.2.5.tar.gz&quot;</span>
</span><span class="hljs-keyword">RUN</span> <span class="bash">mkdir -p /usr/src/redis
</span><span class="hljs-keyword">RUN</span> <span class="bash">tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1
</span><span class="hljs-keyword">RUN</span> <span class="bash">make -C /usr/src/redis
</span><span class="hljs-keyword">RUN</span> <span class="bash">make -C /usr/src/redis install
</span></code></pre>
<p><strong>&#x4E00;&#x6B21;RUN</strong></p>
<p>&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x6B21;run&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5C01;&#x88C5;&#x540E;&#x5220;&#x9664;&#x4E86;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x6539;&#x52A8;&#xFF0C;&#x4E00;&#x6B21;commit&#xFF0C;&#x6700;&#x540E;&#x5F62;&#x6210;&#x7684;docker&#x955C;&#x50CF;&#x4F1A;&#x5F88;&#x8F7B;&#x91CF;</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">FROM</span> debian:jessie
<span class="hljs-keyword">RUN</span> <span class="bash">buildDeps=<span class="hljs-string">&apos;gcc libc6-dev make&apos;</span> \
&amp;&amp; apt-get update \
&amp;&amp; apt-get install -y <span class="hljs-variable">$buildDeps</span> \
&amp;&amp; wget -O redis.tar.gz <span class="hljs-string">&quot;http://download.redis.io/releases/redis-3.2.5.tar.gz&quot;</span> \
&amp;&amp; mkdir -p /usr/src/redis \
&amp;&amp; tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 \
&amp;&amp; make -C /usr/src/redis \
&amp;&amp; make -C /usr/src/redis install \
&amp;&amp; rm -rf /var/lib/apt/lists/* \
&amp;&amp; rm redis.tar.gz \
&amp;&amp; rm -r /usr/src/redis \
&amp;&amp; apt-get purge -y --auto-remove <span class="hljs-variable">$buildDeps</span>
</span></code></pre>
<h4 id="copy"><a name="copy" class="anchor-navigation-ex-anchor" href="#copy"><i class="fa fa-link" aria-hidden="true"></i></a>COPY</h4>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">COPY</span> <span class="bash">[PASS1,PASS2,PASS3] DES
</span></code></pre>
<ul>
<li>&#x76EE;&#x6807;&#x8DEF;&#x5F84;&#x4E0D;&#x9700;&#x8981;&#x63D0;&#x524D;&#x521B;&#x5EFA;</li>
<li>&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x5404;&#x79CD;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x5F97;&#x5230;&#x4FDD;&#x7559;</li>
</ul>
<h4 id="add"><a name="add" class="anchor-navigation-ex-anchor" href="#add"><i class="fa fa-link" aria-hidden="true"></i></a>ADD</h4>
<p>&#x9AD8;&#x7EA7;&#x590D;&#x5236;</p>
<ul>
<li>&#x6E90;&#x8DEF;&#x5F84;&#x4E3A;URL&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;</li>
<li>&#x6E90;&#x8DEF;&#x5F84;&#x4E3A;&#x538B;&#x7F29;&#x5305;&#xFF08;gzip&#xFF0C;bzip2&#xFF0C;bzip2&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x89E3;&#x538B;&#x7F29;&#x5230;&#x76EE;&#x6807;&#x8DEF;&#x5F84;</li>
</ul>
<p>&#x5728;&#x9009;&#x62E9;COPY&#x548C;ADD&#x9075;&#x5FAA;&#x7684;&#x539F;&#x5219;&#xFF0C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x4F7F;&#x7528;COPY&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x89E3;&#x538B;&#x7F29;&#x65F6;&#x4F7F;&#x7528;ADD</p>
<h4 id="cmd"><a name="cmd" class="anchor-navigation-ex-anchor" href="#cmd"><i class="fa fa-link" aria-hidden="true"></i></a>CMD</h4>
<ul>
<li>shell&#xFF0C;&#x4F1A;&#x88AB;&#x8F6C;&#x53D8;&#x4E3A;sh -c</li>
<li>exec &#xFF0C;CMD [&quot;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&quot;,&quot;&#x53C2;&#x6570;1&quot;,&#x201C;&#x53C2;&#x6570;2&#x201D;]</li>
</ul>
<p>&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x7684;&#x5BB9;&#x5668;&#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF0C;&#x4F1A;&#x88AB;docker run &#x540E;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x6240;&#x8986;&#x76D6;</p>
<ul>
<li>&#x200B;            &#x5F53;docker run&#x4E0D;&#x6307;&#x5B9A;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x5219;&#x6267;&#x884C;CMD&#x7684;&#x547D;&#x4EE4;</li>
<li>&#x5F53;docker run&#x5236;&#x5B9A;&#x4E86;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x547D;&#x4EE4;</li>
</ul>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;docker&#x4E0D;&#x80FD;&#x6709;&#x540E;&#x53F0;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5E94;&#x7528;&#x90FD;&#x5E94;&#x5728;&#x524D;&#x53F0;&#x6267;&#x884C;</strong></p>
<ul>
<li><p>&#x9519;&#x8BEF;&#x7684;&#x5199;&#x6CD5;&#xFF1A;<code>CMD  service nginx start</code></p>
<p>&#x8FD9;&#x6837;&#x505A;&#x5BF9;&#x4E8E;docker&#x6765;&#x8BB2;&#x6267;&#x884C;service nginx start&#x540E;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x5C31;&#x5DF2;&#x7ECF;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x5BB9;&#x5668;&#x4E3B;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6210;&#xFF0C;&#x5931;&#x53BB;&#x5B58;&#x5728;&#x610F;&#x4E49;&#xFF0C;&#x5C31;&#x4F1A;&#x9000;&#x51FA;&#x5BB9;&#x5668;</p>
</li>
<li><p>&#x6B63;&#x786E;&#x7684;&#x5199;&#x6CD5;&#xFF1A;<code>CMD [&quot;nginx&quot;,&quot;-g&quot;],&quot;daemon off;&quot;</code></p>
</li>
</ul>
<h4 id="entrypoint"><a name="entrypoint" class="anchor-navigation-ex-anchor" href="#entrypoint"><i class="fa fa-link" aria-hidden="true"></i></a>ENTRYPOINT</h4>
<ul>
<li>shell&#xFF0C;&#x4F1A;&#x88AB;&#x8F6C;&#x53D8;&#x4E3A;sh -c</li>
<li>exec &#xFF0C;ENTRYPOINT [&quot;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&quot;,&quot;&#x53C2;&#x6570;1&quot;,&#x201C;&#x53C2;&#x6570;2&#x201D;]</li>
</ul>
<p>docker run &#x540E;&#x9762;&#x7684;&#x53C2;&#x6570;&#x4F1A;&#x4F20;&#x9012;&#x7ED9;ENTERPOINT&#x4F5C;&#x4E3A;&#x53C2;&#x6570;</p>
<p>dockerfile</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">FROM</span> ubuntu:latest
<span class="hljs-keyword">ENTRYPOINT</span> <span class="bash">[<span class="hljs-string">&quot;netstat&quot;</span>]
</span></code></pre>
<p>docker run&#xFF0C;tunlp&#x4F1A;&#x88AB;&#x4F20;&#x9012;&#x7ED9;entrypoint&#xFF0C;&#x6700;&#x540E;&#x8FD0;&#x884C;&#x7684;&#x662F;netstat -tunlp</p>
<pre><code class="lang-shell">docker run -it ubuntu -tunlp
</code></pre>
<h4 id="env"><a name="env" class="anchor-navigation-ex-anchor" href="#env"><i class="fa fa-link" aria-hidden="true"></i></a>ENV</h4>
<p>&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;RUN&#x8FD8;&#x662F;docker&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x5E94;&#x7528;&#x90FD;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#xFF0C;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;shell&#x4E00;&#x81F4;</p>
<ul>
<li><p>ENV <key> <value></value></key></p>
</li>
<li><p>ENV <key1>=<value1> <key2>=<value2></value2></key2></value1></key1></p>
<pre><code class="lang-dockerfile">ENV NODE_VERSION 7.2.0
RUN curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.ta
r.xz&quot; \
&amp;&amp; curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc&quot; \
&amp;&amp; gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc \
&amp;&amp; grep &quot; node-v$NODE_VERSION-linux-x64.tar.xz\$&quot; SHASUMS256.txt | sha256sum -c - \
&amp;&amp; tar -xJf &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; -C /usr/local --strip-components=
1 \
&amp;&amp; rm &quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot; SHASUMS256.txt.asc SHASUMS256.txt \
&amp;&amp; ln -s /usr/local/bin/node /usr/local/bin/nodejs
</code></pre>
</li>
</ul>
<h4 id="arg"><a name="arg" class="anchor-navigation-ex-anchor" href="#arg"><i class="fa fa-link" aria-hidden="true"></i></a>ARG</h4>
<ul>
<li>ARG <key> <value></value></key></li>
<li>ARG <key1>=<value1> <key2>=<value2></value2></key2></value1></key1></li>
</ul>
<p>&#x5B9A;&#x4E49;&#x9ED8;&#x8BA4;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x4F1A;&#x88AB;docker build&#x4E2D;&#x7684; --build-arg &lt;&#x53C2;&#x6570;&#x540D;&gt;=&lt;&#x503C;&gt;</p>
<p>&#x4E0E;ENV&#x7C7B;&#x4F3C;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;ARG&#x53EA;&#x662F;&#x6784;&#x5EFA;&#x73AF;&#x5883;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x65F6;&#x4E0D;&#x5B58;&#x5728;</p>
<h4 id="volume"><a name="volume" class="anchor-navigation-ex-anchor" href="#volume"><i class="fa fa-link" aria-hidden="true"></i></a>VOLUME</h4>
<p>&#x5B9A;&#x4E49;&#x9ED8;&#x8BA4;&#x7684;&#x533F;&#x540D;&#x5377;&#xFF0C;&#x5BB9;&#x5668;&#x5E94;&#x8BE5;&#x4FDD;&#x6301;&#x5BB9;&#x5668;&#x5B58;&#x50A8;&#x5C42;&#x4E0D;&#x53D1;&#x751F;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x52A8;&#x6001;&#x6570;&#x636E;&#x65F6;&#x5E94;&#x8BE5;&#x4FDD;&#x5B58;&#x5728;&#x5377;volume&#x4E2D;&#xFF0C;&#x5728;dockerfile&#x4E2D;&#x5B9A;&#x4E49;&#x533F;&#x540D;&#x5377;&#xFF0C;&#x9632;&#x6B62;&#x8FD0;&#x884C;&#x65F6;&#x7528;&#x6237;&#x5FD8;&#x8BB0;&#x6302;&#x8F7D;&#x5377;&#xFF0C;&#x4F1A;&#x88AB;docker run -v &#x8986;&#x76D6;</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">VOLUME</span> <span class="bash">/data
</span></code></pre>
<pre><code class="lang-shell">docker run -d -v mydata:/data xxxx
</code></pre>
<h4 id="expose"><a name="expose" class="anchor-navigation-ex-anchor" href="#expose"><i class="fa fa-link" aria-hidden="true"></i></a>EXPOSE</h4>
<p>&#x7533;&#x660E;&#x7AEF;&#x53E3;&#xFF0C;&#x5E76;&#x975E;&#x6253;&#x5F00;&#x7AEF;&#x53E3;&#xFF0C;&#x4E0E;docker run -p&#x6709;&#x533A;&#x522B;</p>
<h4 id="workdir"><a name="workdir" class="anchor-navigation-ex-anchor" href="#workdir"><i class="fa fa-link" aria-hidden="true"></i></a>WORKDIR</h4>
<p>&#x6307;&#x5B9A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#xFF0C;workdir&#x4F1A;&#x5EFA;&#x7ACB;&#x8BE5;&#x76EE;&#x5F55;</p>
<p>RUN cd /app&#x53EA;&#x662F;&#x6539;&#x53D8;&#x4E86;&#x5F53;&#x524D;&#x7684;&#x5C42;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5F53;&#x8FD0;&#x884C;&#x7B2C;&#x4E8C;&#x4E2A;RUN&#x65F6;&#xFF0C;&#x5E76;&#x4E0D;&#x5728;cd&#x540E;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8FD8;&#x662F;&#x56DE;&#x5230;workdir</p>
<h4 id="uesr"><a name="uesr" class="anchor-navigation-ex-anchor" href="#uesr"><i class="fa fa-link" aria-hidden="true"></i></a>UESR</h4>
<p>&#x6307;&#x5B9A;RUN&#xFF0C;CMD&#xFF0C;ENTRYPOINT&#x7684;&#x7528;&#x6237;</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">RUN</span> <span class="bash">groupadd -r redis &amp;&amp; useradd -r -g redis redis
</span><span class="hljs-keyword">USER</span> redis
<span class="hljs-keyword">RUN</span> <span class="bash">[ <span class="hljs-string">&quot;redis-server&quot;</span> ]
</span></code></pre>
<p>gosu</p>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">RUN</span> <span class="bash">groupadd -r redis &amp;&amp; useradd -r -g redis redis
</span><span class="hljs-comment"># &#x4E0B;&#x8F7D; gosu</span>
<span class="hljs-keyword">RUN</span> <span class="bash">wget -O /usr/<span class="hljs-built_in">local</span>/bin/gosu <span class="hljs-string">&quot;https://github.com/tianon/gosu/releases/download/1.7/
</span></span>gosu-amd64&quot; \
&amp;&amp; chmod +x /usr/local/bin/gosu \
&amp;&amp; gosu nobody true
<span class="hljs-comment"># &#x8BBE;&#x7F6E; CMD,&#x5E76;&#x4EE5;&#x53E6;&#x5916;&#x7684;&#x7528;&#x6237;&#x6267;&#x884C;</span>
<span class="hljs-keyword">CMD</span> <span class="bash"><span class="hljs-string">[ &quot;</span><span class="hljs-built_in">exec</span><span class="hljs-string">&quot;, &quot;</span>gosu<span class="hljs-string">&quot;, &quot;</span>redis<span class="hljs-string">&quot;, &quot;</span>redis-server<span class="hljs-string">&quot; ]
</span></span></code></pre>
<h4 id="healthcheck"><a name="healthcheck" class="anchor-navigation-ex-anchor" href="#healthcheck"><i class="fa fa-link" aria-hidden="true"></i></a>HEALTHCHECK</h4>
<p>&#x68C0;&#x67E5;&#x5BB9;&#x5668;&#x72B6;&#x6001;&#xFF0C;healthy | unhealthy</p>
<ul>
<li>--interval=&lt;&gt; &#xFF0C;&#x5065;&#x5EB7;&#x68C0;&#x67E5;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;</li>
<li>--timeout=&lt;&gt;&#xFF0C;&#x5065;&#x5EB7;&#x68C0;&#x67E5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;</li>
<li>--retries=&lt;&gt;&#xFF0C;&#x8FDE;&#x7EED;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;</li>
</ul>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">FROM</span> nginx
<span class="hljs-keyword">RUN</span> <span class="bash">apt-get update &amp;&amp; apt-get install -y curl &amp;&amp; rm -rf /var/lib/apt/lists/*
</span>HEALTHCHECK --interval=5s --timeout=3s \
<span class="hljs-keyword">CMD</span> <span class="bash">curl -fs http://localhost/ || <span class="hljs-built_in">exit</span> 1
</span></code></pre>
<h4 id="onbuild"><a name="onbuild" class="anchor-navigation-ex-anchor" href="#onbuild"><i class="fa fa-link" aria-hidden="true"></i></a>ONBUILD</h4>
<p>&#x5F53;&#x524D;dockerfile build&#x65F6;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x4EE5;build&#x540E;&#x7684;&#x955C;&#x50CF;&#x4E3A;&#x57FA;&#x7840;&#x955C;&#x50CF;build&#x65F6;&#x624D;&#x4F1A;&#x6267;&#x884C;</p>
<h3 id="&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA;-&#xFF1F;&#xFF1F;&#xFF1F;"><a name="&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA;-&#xFF1F;&#xFF1F;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA;-&#xFF1F;&#xFF1F;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x591A;&#x9636;&#x6BB5;&#x6784;&#x5EFA; &#xFF1F;&#xFF1F;&#xFF1F;</h3>
<h3 id="&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;"><a name="&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5176;&#x4ED6;&#x5236;&#x4F5C;&#x955C;&#x50CF;&#x7684;&#x65B9;&#x5F0F;</h3>
<h4 id="rootfs&#x5BFC;&#x5165;"><a name="rootfs&#x5BFC;&#x5165;" class="anchor-navigation-ex-anchor" href="#rootfs&#x5BFC;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>rootfs&#x5BFC;&#x5165;</h4>
<pre><code class="lang-shell">docker import \
http://download.openvz.org/template/precreated/ubuntu-14.04-x86_64-minimal.tar.gz\
openvz/ubuntu:14.04
</code></pre>
<p>&#x4E0B;&#x8F7D;&#x955C;&#x50CF;&#x5E76;&#x5BFC;&#x5165;&#x4E3A;openvz/ubuntu:14.04</p>
<h4 id="docker-save--docker-load"><a name="docker-save--docker-load" class="anchor-navigation-ex-anchor" href="#docker-save--docker-load"><i class="fa fa-link" aria-hidden="true"></i></a>docker save &amp; docker load</h4>
<p>&#x4ECE;&#x4E00;&#x53F0;server save&#x5E76;&#x5728;&#x53E6;&#x4E00;&#x53F0;server laod</p>
<pre><code class="lang-shell">docker save  alpine |  gzip &gt; alpine-latest.tar.gz
</code></pre>
<pre><code class="lang-shell">docker laod -i alpine-latest.tar.gz
</code></pre>
<h2 id="&#x5BB9;&#x5668;&#x64CD;&#x4F5C;"><a name="&#x5BB9;&#x5668;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x5BB9;&#x5668;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BB9;&#x5668;&#x64CD;&#x4F5C;</h2>
<h3 id="&#x542F;&#x505C;"><a name="&#x542F;&#x505C;" class="anchor-navigation-ex-anchor" href="#&#x542F;&#x505C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x542F;&#x505C;</h3>
<p>docker run&#x542F;&#x52A8;&#x8FC7;&#x7A0B;</p>
<ol>
<li>&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x53BB;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;</li>
<li>&#x5229;&#x7528;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;</li>
<li>&#x5206;&#x914D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5728;&#x5236;&#x5EA6;&#x7684;&#x955C;&#x50CF;&#x5C42;&#x5916;&#x9762;&#x80A1;&#x5728;&#x4E00;&#x5C42;&#x53EF;&#x8BFB;&#x5199;&#x5C42;</li>
<li>&#x4ECE;&#x5BBF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x7684;&#x738B;&#x5DE7;&#x501F;&#x53E3;&#x6865;&#x63A5;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x63A5;&#x53E3;&#x5230;&#x5BB9;&#x5668;</li>
<li>&#x4ECE;&#x5730;&#x5740;&#x6C60;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;</li>
<li>&#x6267;&#x884C;&#x7528;&#x6237;&#x6307;&#x5B9A;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</li>
<li><p>&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x5BB9;&#x5668;&#x7EC8;&#x6B62;</p>
</li>
<li><p>&#x57FA;&#x4E8E;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">&#x279C;  ~ docker run ubuntu /bin/echo &apos;hello world&apos; 
hello world
&#x279C;  ~ docker ps -a 
41a98623a795        ubuntu              &quot;/bin/echo &apos;hello wo&#x2026;&quot;   6 minutes ago       Exited (0) 6 minutes ago                                            clever_bell
</code></pre>
</li>
<li><p>&#x542F;&#x52A8;&#x5DF2;&#x7EC8;&#x6B62;&#x7684;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker start container_ID 
docker container start container_ID
</code></pre>
</li>
<li><p>&#x67E5;&#x770B;&#x5DF2;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker container ls
docker ps
</code></pre>
</li>
<li><p>&#x67E5;&#x770B;&#x6240;&#x6709;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker container ls -a 
docker ps -a
</code></pre>
</li>
</ol>
<h3 id="&#x5B88;&#x62A4;&#x72B6;&#x6001;"><a name="&#x5B88;&#x62A4;&#x72B6;&#x6001;" class="anchor-navigation-ex-anchor" href="#&#x5B88;&#x62A4;&#x72B6;&#x6001;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B88;&#x62A4;&#x72B6;&#x6001;</h3>
<pre><code class="lang-shell">docker run  -d  --name nginx-daemon nginx:latest
</code></pre>
<h3 id="&#x8FDB;&#x5165;&#x5BB9;&#x5668;"><a name="&#x8FDB;&#x5165;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x8FDB;&#x5165;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FDB;&#x5165;&#x5BB9;&#x5668;</h3>
<h4 id="run"><a name="run" class="anchor-navigation-ex-anchor" href="#run"><i class="fa fa-link" aria-hidden="true"></i></a>run</h4>
<ul>
<li>-i &#x5F00;&#x542F;std_input</li>
<li>-t &#x5F00;&#x542F;tty</li>
</ul>
<pre><code class="lang-shell">docker run -it --name ubuntu:latest /bin/&#x279C;  ~ docker run -it --name bash_ubuntu  ubuntu:latest /bin/bash
</code></pre>
<h4 id="attach"><a name="attach" class="anchor-navigation-ex-anchor" href="#attach"><i class="fa fa-link" aria-hidden="true"></i></a>attach</h4>
<p>&#x8FDB;&#x5165;&#x5230;&#x5BB9;&#x5668;&#x754C;&#x9762;</p>
<ul>
<li>&#x5F53;&#x5BB9;&#x5668;run&#x8FD0;&#x884C;bash&#x65F6;&#xFF0C;attach&#x4F1A;&#x8FDB;&#x5165;bash</li>
<li>&#x5F53;&#x5BB9;&#x5668;run&#x8FD0;&#x884C;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#xFF0C;&#x8FDB;&#x5165;&#x670D;&#x52A1;&#x754C;&#x9762;</li>
</ul>
<h4 id="exec"><a name="exec" class="anchor-navigation-ex-anchor" href="#exec"><i class="fa fa-link" aria-hidden="true"></i></a>exec</h4>
<p>docker exec -i -t  container_ID CMD</p>
<pre><code class="lang-shell">&#x279C;  ~ docker exec&#x279C;  ~ docker exec -it 3d9 /bin/bash 
root@3d94524412ec:/#
</code></pre>
<h3 id="&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;"><a name="&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x5BB9;&#x5668;</h3>
<p>export</p>
<pre><code class="lang-shell">&#x279C;  ~ docker container ls 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
3d94524412ec        ubuntu              &quot;/bin/bash&quot;         2 minutes ago       Up About a minute                       jovial_fermat
&#x279C;  ~ docker export 3d94 &gt; ubuntu_export.tar 
&#x279C;  ~ ls -lh
-rw-r--r-- 1 wyny wyny  69M 7&#x6708;   4 15:09 ubuntu_export.tar
</code></pre>
<p>import</p>
<pre><code class="lang-shell">&#x279C;  ~ cat ubuntu_export.tar |  docker import - test/ubuntu:v1
sha256:a48224e5ba2a59d2409d7fecca9b05d574e4962dfbf8144a66d53b1500d256f1
&#x279C;  ~ docker image ls 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
test/ubuntu         v1                  a48224e5ba2a        6 seconds ago       69.8MB
</code></pre>
<h3 id="&#x5220;&#x9664;"><a name="&#x5220;&#x9664;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;</h3>
<pre><code class="lang-shell">&#x279C;  ~ docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES
7ca98669632a        ubuntu              &quot;/bin/bash&quot;         9 seconds ago       Exited (0) 7 seconds ago                       condescending_stonebraker
&#x279C;  ~ docker container rm 7c
7c
</code></pre>
<p>&#x6E05;&#x7406;&#x6240;&#x6709;stop&#x7684;container</p>
<pre><code class="lang-shell">&#x279C;  ~ docker container ls -a 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES
f1491993f9a8        ubuntu              &quot;/bin/bash&quot;         8 seconds ago       Exited (0) 6 seconds ago                            happy_hopper
2a723dd1559b        ubuntu              &quot;/bin/bash&quot;         15 seconds ago      Exited (0) 13 seconds ago                           romantic_curran
3d94524412ec        ubuntu              &quot;/bin/bash&quot;         7 minutes ago       Exited (0) About a minute ago                       jovial_fermat
&#x279C;  ~ docker container prune 
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
f1491993f9a878ded0eb17bc856c180a5b09f2a6037e279a03d4de884f49ff44
2a723dd1559b8e3f6448b5d2dc17a4322f250bc3c562c39034dfdf7851bc3e55
3d94524412ecdb32071a1e03d8bc86c4519fd868472e414fd9b3174300ea379d

Total reclaimed space: 19B
&#x279C;  ~ docker container ls -a 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
&#x279C;  ~
</code></pre>
<h2 id="docker&#x6570;&#x636E;&#x7BA1;&#x7406;"><a name="docker&#x6570;&#x636E;&#x7BA1;&#x7406;" class="anchor-navigation-ex-anchor" href="#docker&#x6570;&#x636E;&#x7BA1;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>docker&#x6570;&#x636E;&#x7BA1;&#x7406;</h2>
<h3 id="&#x6570;&#x636E;&#x5377;"><a name="&#x6570;&#x636E;&#x5377;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x5377;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x5377;</h3>
<p>&#x53EF;&#x4F9B;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x7279;&#x6B8A;&#x76EE;&#x5F55;&#xFF0C;&#x7ED5;&#x8FC7;UFS&#xFF08;union FS&#x7EDF;&#x4E00;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;&#xFF0C;&#x5177;&#x5907;&#x5982;&#x4E0B;&#x7279;&#x6027;&#xFF1A;</p>
<ul>
<li><p>&#x53EF;&#x4EE5;&#x5728;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x548C;&#x91CD;&#x7528;</p>
</li>
<li><p>&#x4FEE;&#x6539;&#x7ACB;&#x523B;&#x751F;&#x6548;</p>
</li>
<li>&#x66F4;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x5F71;&#x54CD;&#x5BB9;&#x5668;</li>
<li>&#x9ED8;&#x8BA4;&#x4E00;&#x76F4;&#x5B58;&#x5728;&#xFF0C;&#x5373;&#x4F7F;&#x5BB9;&#x5668;&#x88AB;&#x5220;&#x9664;</li>
</ul>
<h4 id="&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5377;"><a name="&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5377;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5377;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5377;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker volume create my-vol
my-vol
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6240;&#x6709;&#x6570;&#x636E;&#x5377;"><a name="&#x67E5;&#x770B;&#x6240;&#x6709;&#x6570;&#x636E;&#x5377;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x6240;&#x6709;&#x6570;&#x636E;&#x5377;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x6240;&#x6709;&#x6570;&#x636E;&#x5377;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker volume ls 
DRIVER              VOLUME NAME
local               042c76be19978e725c59d0265aad78f972666807b2b4ae2eaf2fda1628e149c7
local               0f14d341dcd6ac228c437eb644ecaad595265f90e2daa1f39ecdf1697f778640
local               3383d181e3fe032f4ddbcf7256cd4a9b6b8febedbc4c00dfadd72e71a3982b78
local               3c7c0b5c6c24f43be58d1a3b1b71cb71af274c1344c718d38a55592ed84b6d99
local               426a573ca27fca528c4f72a6edca4d8df3159cfe81fd99c2d5025f872e43efcd
local               49f3d6308563f992ba413946cb996fc52081867c091b0fd3d92873264e7f26d6
local               4d936140426aeee859d7f6c87067abe31f37e1360e8dc83ff34bcc4b56c51ed0
local               703a5a7fef05f6256622c889796d967b828c7c8fd1e1c2f36a3887945fffc6c2
local               7cf48886a15d45378705f854b50726cbaabf3f92d2a46f6f674182bd95102c33
local               9abe590569342b9f05c41eafe1d071648fecf69f084750270c1bbb8923953cbf
local               a24668e656ed8a43b8e56c7b9168746185cacbed1f6c3af5ed37d9e17418044e
local               b633294eb0f48fbc47a00990696853ae25b21c565702d3848a004efd4cc76d1a
local               b74a4636deabb951b966c9636709d5de7db87c255666f28a5a772df66e9afc87
local               c1670fee249053af9295f6a371c78bd5af372de01257a6dc3c77a3cc9997a848
local               f46caff117a4b2b9c179ce569f3880d596ed0c2500b342bd809fe92382a956de
local               my-vol
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6570;&#x636E;&#x5377;&#x4FE1;&#x606F;"><a name="&#x67E5;&#x770B;&#x6570;&#x636E;&#x5377;&#x4FE1;&#x606F;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x6570;&#x636E;&#x5377;&#x4FE1;&#x606F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5377;&#x4FE1;&#x606F;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker volume inspect my-vol
[
    {
        &quot;CreatedAt&quot;: &quot;2018-07-04T16:33:50+08:00&quot;,
        &quot;Driver&quot;: &quot;local&quot;,
        &quot;Labels&quot;: {},
        &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/my-vol/_data&quot;,
        &quot;Name&quot;: &quot;my-vol&quot;,
        &quot;Options&quot;: {},
        &quot;Scope&quot;: &quot;local&quot;
    }
]
</code></pre>
<h4 id="&#x5220;&#x9664;&#x6570;&#x636E;&#x5377;"><a name="&#x5220;&#x9664;&#x6570;&#x636E;&#x5377;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x6570;&#x636E;&#x5377;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x6570;&#x636E;&#x5377;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker volume rm my-vol
my-vol
&#x279C;  ~ docker volume ls
DRIVER              VOLUME NAME
local               042c76be19978e725c59d0265aad78f972666807b2b4ae2eaf2fda1628e149c7
local               0f14d341dcd6ac228c437eb644ecaad595265f90e2daa1f39ecdf1697f778640
local               3383d181e3fe032f4ddbcf7256cd4a9b6b8febedbc4c00dfadd72e71a3982b78
local               3c7c0b5c6c24f43be58d1a3b1b71cb71af274c1344c718d38a55592ed84b6d99
local               426a573ca27fca528c4f72a6edca4d8df3159cfe81fd99c2d5025f872e43efcd
local               49f3d6308563f992ba413946cb996fc52081867c091b0fd3d92873264e7f26d6
local               4d936140426aeee859d7f6c87067abe31f37e1360e8dc83ff34bcc4b56c51ed0
local               703a5a7fef05f6256622c889796d967b828c7c8fd1e1c2f36a3887945fffc6c2
local               7cf48886a15d45378705f854b50726cbaabf3f92d2a46f6f674182bd95102c33
local               9abe590569342b9f05c41eafe1d071648fecf69f084750270c1bbb8923953cbf
local               a24668e656ed8a43b8e56c7b9168746185cacbed1f6c3af5ed37d9e17418044e
local               b633294eb0f48fbc47a00990696853ae25b21c565702d3848a004efd4cc76d1a
local               b74a4636deabb951b966c9636709d5de7db87c255666f28a5a772df66e9afc87
local               c1670fee249053af9295f6a371c78bd5af372de01257a6dc3c77a3cc9997a848
local               f46caff117a4b2b9c179ce569f3880d596ed0c2500b342bd809fe92382a956de
</code></pre>
<h4 id="&#x5220;&#x9664;&#x65E0;&#x4E3B;&#x6570;&#x636E;&#x5377;"><a name="&#x5220;&#x9664;&#x65E0;&#x4E3B;&#x6570;&#x636E;&#x5377;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x65E0;&#x4E3B;&#x6570;&#x636E;&#x5377;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x65E0;&#x4E3B;&#x6570;&#x636E;&#x5377;</h4>
<p>&#x6570;&#x636E;&#x5377;&#x5728;&#x5BB9;&#x5668;&#x88AB;&#x5220;&#x9664;&#x540E;&#x4F9D;&#x7136;&#x5B58;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x65E0;&#x52A9;&#x6570;&#x636E;&#x5377;&#x8282;&#x7EA6;&#x7A7A;&#x95F4;</p>
<pre><code class="lang-shell">&#x279C;  ~ docker volume ls
DRIVER              VOLUME NAME
local               042c76be19978e725c59d0265aad78f972666807b2b4ae2eaf2fda1628e149c7
local               0f14d341dcd6ac228c437eb644ecaad595265f90e2daa1f39ecdf1697f778640
local               3383d181e3fe032f4ddbcf7256cd4a9b6b8febedbc4c00dfadd72e71a3982b78
local               3c7c0b5c6c24f43be58d1a3b1b71cb71af274c1344c718d38a55592ed84b6d99
local               426a573ca27fca528c4f72a6edca4d8df3159cfe81fd99c2d5025f872e43efcd
local               49f3d6308563f992ba413946cb996fc52081867c091b0fd3d92873264e7f26d6
local               4d936140426aeee859d7f6c87067abe31f37e1360e8dc83ff34bcc4b56c51ed0
local               703a5a7fef05f6256622c889796d967b828c7c8fd1e1c2f36a3887945fffc6c2
local               7cf48886a15d45378705f854b50726cbaabf3f92d2a46f6f674182bd95102c33
local               9abe590569342b9f05c41eafe1d071648fecf69f084750270c1bbb8923953cbf
local               a24668e656ed8a43b8e56c7b9168746185cacbed1f6c3af5ed37d9e17418044e
local               b633294eb0f48fbc47a00990696853ae25b21c565702d3848a004efd4cc76d1a
local               b74a4636deabb951b966c9636709d5de7db87c255666f28a5a772df66e9afc87
local               c1670fee249053af9295f6a371c78bd5af372de01257a6dc3c77a3cc9997a848
local               f46caff117a4b2b9c179ce569f3880d596ed0c2500b342bd809fe92382a956de
&#x279C;  ~ docker volume prune
WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] y
Deleted Volumes:
b633294eb0f48fbc47a00990696853ae25b21c565702d3848a004efd4cc76d1a
b74a4636deabb951b966c9636709d5de7db87c255666f28a5a772df66e9afc87
a24668e656ed8a43b8e56c7b9168746185cacbed1f6c3af5ed37d9e17418044e
c1670fee249053af9295f6a371c78bd5af372de01257a6dc3c77a3cc9997a848
703a5a7fef05f6256622c889796d967b828c7c8fd1e1c2f36a3887945fffc6c2
f46caff117a4b2b9c179ce569f3880d596ed0c2500b342bd809fe92382a956de
0f14d341dcd6ac228c437eb644ecaad595265f90e2daa1f39ecdf1697f778640
426a573ca27fca528c4f72a6edca4d8df3159cfe81fd99c2d5025f872e43efcd
3c7c0b5c6c24f43be58d1a3b1b71cb71af274c1344c718d38a55592ed84b6d99
49f3d6308563f992ba413946cb996fc52081867c091b0fd3d92873264e7f26d6
7cf48886a15d45378705f854b50726cbaabf3f92d2a46f6f674182bd95102c33
042c76be19978e725c59d0265aad78f972666807b2b4ae2eaf2fda1628e149c7
4d936140426aeee859d7f6c87067abe31f37e1360e8dc83ff34bcc4b56c51ed0
3383d181e3fe032f4ddbcf7256cd4a9b6b8febedbc4c00dfadd72e71a3982b78
9abe590569342b9f05c41eafe1d071648fecf69f084750270c1bbb8923953cbf

Total reclaimed space: 255.8MB
&#x279C;  ~ docker volume ls       
DRIVER              VOLUME NAME
</code></pre>
<h4 id="&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x6302;&#x5728;&#x6570;&#x636E;&#x5377;&#x7684;&#x5BB9;&#x5668;"><a name="&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x6302;&#x5728;&#x6570;&#x636E;&#x5377;&#x7684;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x6302;&#x5728;&#x6570;&#x636E;&#x5377;&#x7684;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x6302;&#x5728;&#x6570;&#x636E;&#x5377;&#x7684;&#x5BB9;&#x5668;</h4>
<pre><code class="lang-shell">&#x279C;  ~ docker volume create vol1
vol1
# &#x542F;&#x52A8;&#x5BB9;&#x5668;
&#x279C;  ~ docker run -d -p 80:80 --mount  source=vol1,target=/webapp  --name webserver nginx:latest
01b0dad5508c78670c233a64fcb5f83cd5ae6383e37e3f508e668860dd0873ac
&#x279C;  ~ docker exec -it webserver bash 
root@01b0dad5508c:/# df -h
Filesystem      Size  Used Avail Use% Mounted on
overlay          38G   19G   18G  52% /
tmpfs            64M     0   64M   0% /dev
tmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup
/dev/sda4        38G   19G   18G  52% /webapp
shm              64M     0   64M   0% /dev/shm
tmpfs           3.9G     0  3.9G   0% /proc/scsi
tmpfs           3.9G     0  3.9G   0% /sys/firmware
</code></pre>
<h3 id="&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;"><a name="&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;" class="anchor-navigation-ex-anchor" href="#&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;</h3>
<pre><code class="lang-shell">&#x279C;  nginx_v1  docker run -d -it --name  hostdir  -p 81:80 --mount type=bind,source=/home/wyny/Documents/docker/nginx_v1,target=/nginx_v1  nginx 
01f286e98411befd047b7e4fb5ec1c0b7694a5892d730f1e49b9c55e058d0d2c
&#x279C;  nginx_v1 
&#x279C;  nginx_v1 
&#x279C;  nginx_v1 
&#x279C;  nginx_v1 docker exec -it hostdir bash 
root@01f286e98411:/# 
root@01f286e98411:/# 
root@01f286e98411:/# df -h
Filesystem      Size  Used Avail Use% Mounted on
overlay          38G   19G   18G  52% /
tmpfs            64M     0   64M   0% /dev
tmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup
/dev/sda4        38G   19G   18G  52% /nginx_v1
shm              64M     0   64M   0% /dev/shm
tmpfs           3.9G     0  3.9G   0% /proc/scsi
tmpfs           3.9G     0  3.9G   0% /sys/firmware
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x4FE1;&#x606F;"><a name="&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x4FE1;&#x606F;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x4FE1;&#x606F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x4FE1;&#x606F;</h4>
<pre><code class="lang-shell">docker inspect container_ID
</code></pre>
<pre><code class="lang-json">        <span class="hljs-string">&quot;Mounts&quot;</span>: [
            {
                <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;bind&quot;</span>,
                <span class="hljs-string">&quot;Source&quot;</span>: <span class="hljs-string">&quot;/home/wyny/Documents/docker/nginx_v1&quot;</span>,
                <span class="hljs-string">&quot;Destination&quot;</span>: <span class="hljs-string">&quot;/nginx_v1&quot;</span>,
                <span class="hljs-string">&quot;Mode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
                <span class="hljs-string">&quot;RW&quot;</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-string">&quot;Propagation&quot;</span>: <span class="hljs-string">&quot;rprivate&quot;</span>
            }
        ]
</code></pre>
<h4 id="&#x6302;&#x8F7D;&#x5355;&#x4E2A;&#x6587;&#x4EF6;"><a name="&#x6302;&#x8F7D;&#x5355;&#x4E2A;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x6302;&#x8F7D;&#x5355;&#x4E2A;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6302;&#x8F7D;&#x5355;&#x4E2A;&#x6587;&#x4EF6;</h4>
<pre><code class="lang-shell">docker run --rm -it \
# -v $HOME/.bash_history:/root/.bash_history \
--mount type=bind,source=$HOME/.bash_history,target=/root/.bash_history \
ubuntu:17.10 \
bash
</code></pre>
<h2 id="docker&#x7F51;&#x7EDC;"><a name="docker&#x7F51;&#x7EDC;" class="anchor-navigation-ex-anchor" href="#docker&#x7F51;&#x7EDC;"><i class="fa fa-link" aria-hidden="true"></i></a>docker&#x7F51;&#x7EDC;</h2>
<h3 id="&#x7AEF;&#x53E3;&#x6620;&#x5C04;"><a name="&#x7AEF;&#x53E3;&#x6620;&#x5C04;" class="anchor-navigation-ex-anchor" href="#&#x7AEF;&#x53E3;&#x6620;&#x5C04;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7AEF;&#x53E3;&#x6620;&#x5C04;</h3>
<h4 id="&#x6620;&#x5C04;&#x4E3B;&#x673A;&#x6240;&#x6709;&#x5730;&#x5740;&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;"><a name="&#x6620;&#x5C04;&#x4E3B;&#x673A;&#x6240;&#x6709;&#x5730;&#x5740;&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;&#x4E3B;&#x673A;&#x6240;&#x6709;&#x5730;&#x5740;&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04;&#x4E3B;&#x673A;&#x6240;&#x6709;&#x5730;&#x5740;&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;</h4>
<p>docker -P</p>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -d  -P  --name nginx_P nginx 
7f4a2442b2c52656d6e4709142f81edefaa075896d036165880f169f4dfbcd63
&#x279C;  .ssh docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                   NAMES
7f4a2442b2c5        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   7 seconds ago       Up 5 seconds        0.0.0.0:32768-&gt;80/tcp   nginx_P
</code></pre>
<h4 id="&#x6620;&#x5C04;&#x6307;&#x5B9A;&#x5BBF;&#x4E3B;&#x673A;ip&#x6307;&#x5B9A;&#x7AEF;&#x53E3;"><a name="&#x6620;&#x5C04;&#x6307;&#x5B9A;&#x5BBF;&#x4E3B;&#x673A;ip&#x6307;&#x5B9A;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;&#x6307;&#x5B9A;&#x5BBF;&#x4E3B;&#x673A;ip&#x6307;&#x5B9A;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04;&#x6307;&#x5B9A;&#x5BBF;&#x4E3B;&#x673A;IP&#x6307;&#x5B9A;&#x7AEF;&#x53E3;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -d -p 127.0.0.1:80:80 --name nginx80 nginx

7f2277c62fa1aae037555555cb38a75f77bc9f93d2ed82a7db70d115a59ed902
&#x279C;  .ssh docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES
7f2277c62fa1        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   7 seconds ago       Up 4 seconds        127.0.0.1:80-&gt;80/tcp   nginx80
</code></pre>
<h4 id="&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6240;&#x6709;ip&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;"><a name="&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6240;&#x6709;ip&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6240;&#x6709;ip&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6240;&#x6709;IP&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -d -p 81:80 --name nginx81 nginx
693be8dfb0eca93c5193a419250e116d2188e6c38c54cd0243baba2983c4cf5e
&#x279C;  .ssh docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                     NAMES
693be8dfb0ec        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   40 seconds ago       Up 38 seconds       0.0.0.0:81-&gt;80/tcp        nginx81
</code></pre>
<h4 id="&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6307;&#x5B9A;ip&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;"><a name="&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6307;&#x5B9A;ip&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6307;&#x5B9A;ip&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04;&#x5BBF;&#x4E3B;&#x673A;&#x6307;&#x5B9A;IP&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -d -p 127.0.0.1::80 --name nginx_random nginx 
5655972dbb2ab744b15f65e294164685f37035b71a4acf388c077a54c54f39bf
&#x279C;  .ssh docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                     NAMES
5655972dbb2a        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   5 seconds ago        Up 3 seconds        127.0.0.1:32768-&gt;80/tcp   nginx_random
</code></pre>
<h4 id="&#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;"><a name="&#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -d -p 22:220  -p 80:80  --name nginx_22_80  nginx
e7223e2e3d2ac784252048752f29884b501f39453ac73e6ae816785393e519ca
&#x279C;  .ssh docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                     NAMES
e7223e2e3d2a        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   5 seconds ago       Up 2 seconds        0.0.0.0:80-&gt;80/tcp, 0.0.0.0:22-&gt;220/tcp   nginx_22_80
</code></pre>
<h3 id="&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge"><a name="&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge" class="anchor-navigation-ex-anchor" href="#&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BB9;&#x5668;&#x4E92;&#x8054;&#x2014;&#x2014;bridge</h3>
<h4 id="&#x521B;&#x5EFA;&#x7F51;&#x7EDC;"><a name="&#x521B;&#x5EFA;&#x7F51;&#x7EDC;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x7F51;&#x7EDC;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x7F51;&#x7EDC;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker network create -d bridge my-net
</code></pre>
<h4 id="&#x5BB9;&#x5668;&#x52A0;&#x5165;&#x7F51;&#x7EDC;"><a name="&#x5BB9;&#x5668;&#x52A0;&#x5165;&#x7F51;&#x7EDC;" class="anchor-navigation-ex-anchor" href="#&#x5BB9;&#x5668;&#x52A0;&#x5165;&#x7F51;&#x7EDC;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BB9;&#x5668;&#x52A0;&#x5165;&#x7F51;&#x7EDC;</h4>
<pre><code class="lang-shell">&#x279C;  .ssh docker run -it --name busybox1 --network my-net  -d  ubuntu 
&#x279C;  .ssh docker run -it --name busybox2 --network my-net  -d  ubuntu
</code></pre>
<pre><code class="lang-shell">root@02e2c31b0908:/# ping busybox1
PING busybox1 (172.18.0.2): 56 data bytes
64 bytes from 172.18.0.2: icmp_seq=0 ttl=64 time=0.047 ms
64 bytes from 172.18.0.2: icmp_seq=1 ttl=64 time=0.047 ms
^C--- busybox1 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max/stddev = 0.047/0.047/0.047/0.000 ms
root@02e2c31b0908:/# ping busybox2
PING busybox2 (172.18.0.3): 56 data bytes
64 bytes from 172.18.0.3: icmp_seq=0 ttl=64 time=0.077 ms
64 bytes from 172.18.0.3: icmp_seq=1 ttl=64 time=0.100 ms
64 bytes from 172.18.0.3: icmp_seq=2 ttl=64 time=0.048 ms
64 bytes from 172.18.0.3: icmp_seq=3 ttl=64 time=0.049 ms
^C--- busybox2 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 0.048/0.068/0.100/0.000 ms
</code></pre>
<h4 id="dns"><a name="dns" class="anchor-navigation-ex-anchor" href="#dns"><i class="fa fa-link" aria-hidden="true"></i></a>DNS</h4>
<p>&#x67E5;&#x770B;container&#x7684;&#x6302;&#x8F7D;</p>
<pre><code class="lang-shell">root@02e2c31b0908:/# mount |  grep -E &apos;hostname|resolv.conf|hosts&apos;
/dev/sda4 on /etc/resolv.conf type ext4 (rw,relatime,errors=remount-ro,data=ordered)
/dev/sda4 on /etc/hostname type ext4 (rw,relatime,errors=remount-ro,data=ordered)
/dev/sda4 on /etc/hosts type ext4 (rw,relatime,errors=remount-ro,data=ordered)
</code></pre>
<p>wyny@x270 # cat /etc/docker/daemon.json 
{&quot;registry-mirrors&quot;: [&quot;<a href="http://0340e178.m.daocloud.io&quot;]}container&#x4F9D;&#x8D56;&#x4E8E;&#x5BBF;&#x4E3B;&#x673A;&#x7684;DNS&#x89E3;&#x6790;" target="_blank">http://0340e178.m.daocloud.io&quot;]}container&#x4F9D;&#x8D56;&#x4E8E;&#x5BBF;&#x4E3B;&#x673A;&#x7684;DNS&#x89E3;&#x6790;</a></p>
<pre><code class="lang-shell">wyny@x270 # cat /etc/docker/daemon.json 
{
&quot;dns&quot; : [
&quot;114.114.114.114&quot;,
&quot;8.8.8.8&quot;
]
}
</code></pre>
<h4 id="hostname"><a name="hostname" class="anchor-navigation-ex-anchor" href="#hostname"><i class="fa fa-link" aria-hidden="true"></i></a>HOSTNAME</h4>
<pre><code class="lang-shell">wyny@x270# docker run -d -p 80:80  --hostname=host1  --dns=114.114.114.114  --name host1  nginx 
4902ba5bcc869d20f1d79e8cc9ccac4866d19bebbe087f0f86e25a7233705427
wyny@x270# docker container ls 
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES
4902ba5bcc86        nginx               &quot;nginx -g &apos;daemon of&#x2026;&quot;   8 seconds ago       Up 5 seconds        0.0.0.0:80-&gt;80/tcp   host1
4b17dbab82df        ubuntu              &quot;/bin/bash&quot;              3 hours ago         Up 3 hours                               busybox2
02e2c31b0908        ubuntu              &quot;/bin/bash&quot;              3 hours ago         Up 3 hours                               busybox1
wyny@x270# docker exec -it host1 bash 
root@host1:/# ls
bin   dev  home  lib64    mnt  proc  run     srv  tmp  var
boot  etc  lib     media    opt  root  sbin  sys  usr
</code></pre>
<h2 id="&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;"><a name="&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;" class="anchor-navigation-ex-anchor" href="#&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9AD8;&#x7EA7;&#x7F51;&#x7EDC;</h2>
<h4 id="&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x53C2;&#x6570;"><a name="&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x53C2;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x53C2;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x53C2;&#x6570;</h4>
<h4 id="&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x63A7;&#x5236;"><a name="&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x63A7;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x63A7;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x63A7;&#x5236;</h4>
<h5 id="&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;"><a name="&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;" class="anchor-navigation-ex-anchor" href="#&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BB9;&#x5668;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;</h5>
<p>container&#x5185;&#x90E8;&#x5F00;&#x542F;&#x8F6C;&#x53D1;</p>
<pre><code class="lang-shell">sysctl -w net.ipv4.ip_forward=1
</code></pre>
<p>&#x6216;&#x542F;&#x52A8;docker&#x65F6;&#x6DFB;&#x52A0;&#x53C2;&#x6570;<code>--ip-forward=true</code></p>
<h2 id="docker-compose"><a name="docker-compose" class="anchor-navigation-ex-anchor" href="#docker-compose"><i class="fa fa-link" aria-hidden="true"></i></a>docker compose</h2>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; Howe Hsiang 2018 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-03-15 18:12:51
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../vm.html" class="navigation navigation-prev " aria-label="Previous page: 虚拟化">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../k8s/k8s.html" class="navigation navigation-next " aria-label="Next page: kubernetes">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"docker","level":"5.1.5.1","depth":3,"next":{"title":"kubernetes","level":"5.1.5.2","depth":3,"path":"vm/k8s/k8s.md","ref":"vm/k8s/k8s.md","articles":[{"title":"基于RBAC实现dashboard只读-view权限","level":"5.1.5.2.1","depth":4,"path":"vm/k8s/基于RBAC实现dashboard只读-view权限.md","ref":"vm/k8s/基于RBAC实现dashboard只读-view权限.md","articles":[]},{"title":"kubernetes权威指南读书笔记","level":"5.1.5.2.2","depth":4,"path":"vm/k8s/notes.md","ref":"vm/k8s/notes.md","articles":[{"title":"基础概念","level":"5.1.5.2.2.1","depth":5,"path":"vm/k8s/基础概念.md","ref":"vm/k8s/基础概念.md","articles":[]},{"title":"pod详解","level":"5.1.5.2.2.2","depth":5,"path":"vm/k8s/pod详解.md","ref":"vm/k8s/pod详解.md","articles":[]},{"title":"service详解","level":"5.1.5.2.2.3","depth":5,"path":"vm/k8s/service详解.md","ref":"vm/k8s/service详解.md","articles":[]},{"title":"核心原理","level":"5.1.5.2.2.4","depth":5,"path":"vm/k8s/kubernetes核心原理.md","ref":"vm/k8s/kubernetes核心原理.md","articles":[]},{"title":"集群安全机制","level":"5.1.5.2.2.5","depth":5,"path":"vm/k8s/集群安全机制.md","ref":"vm/k8s/集群安全机制.md","articles":[]},{"title":"日志收集","level":"5.1.5.2.2.6","depth":5,"path":"vm/k8s/日志收集.md","ref":"vm/k8s/日志收集.md","articles":[]}]},{"title":"企业实践整理","level":"5.1.5.2.3","depth":4,"path":"vm/k8s/企业实践整理.md","ref":"vm/k8s/企业实践整理.md","articles":[]}]},"previous":{"title":"虚拟化","level":"5.1.5","depth":2,"path":"vm/vm.md","ref":"vm/vm.md","articles":[{"title":"docker","level":"5.1.5.1","depth":3,"path":"vm/docker/docker.md","ref":"vm/docker/docker.md","articles":[]},{"title":"kubernetes","level":"5.1.5.2","depth":3,"path":"vm/k8s/k8s.md","ref":"vm/k8s/k8s.md","articles":[{"title":"基于RBAC实现dashboard只读-view权限","level":"5.1.5.2.1","depth":4,"path":"vm/k8s/基于RBAC实现dashboard只读-view权限.md","ref":"vm/k8s/基于RBAC实现dashboard只读-view权限.md","articles":[]},{"title":"kubernetes权威指南读书笔记","level":"5.1.5.2.2","depth":4,"path":"vm/k8s/notes.md","ref":"vm/k8s/notes.md","articles":[{"title":"基础概念","level":"5.1.5.2.2.1","depth":5,"path":"vm/k8s/基础概念.md","ref":"vm/k8s/基础概念.md","articles":[]},{"title":"pod详解","level":"5.1.5.2.2.2","depth":5,"path":"vm/k8s/pod详解.md","ref":"vm/k8s/pod详解.md","articles":[]},{"title":"service详解","level":"5.1.5.2.2.3","depth":5,"path":"vm/k8s/service详解.md","ref":"vm/k8s/service详解.md","articles":[]},{"title":"核心原理","level":"5.1.5.2.2.4","depth":5,"path":"vm/k8s/kubernetes核心原理.md","ref":"vm/k8s/kubernetes核心原理.md","articles":[]},{"title":"集群安全机制","level":"5.1.5.2.2.5","depth":5,"path":"vm/k8s/集群安全机制.md","ref":"vm/k8s/集群安全机制.md","articles":[]},{"title":"日志收集","level":"5.1.5.2.2.6","depth":5,"path":"vm/k8s/日志收集.md","ref":"vm/k8s/日志收集.md","articles":[]}]},{"title":"企业实践整理","level":"5.1.5.2.3","depth":4,"path":"vm/k8s/企业实践整理.md","ref":"vm/k8s/企业实践整理.md","articles":[]}]}]},"dir":"ltr"},"config":{"plugins":["github@^2.0.0","edit-link@^2.0.2","anchors@^0.7.1","include-codeblock@^3.0.2","splitter@^0.0.8","tbfed-pagefooter@^0.0.1","expandable-chapters-small@^0.1.7","anchor-navigation-ex@0.1.8","ga"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © Howe Hsiang 2018","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/Hosiang1026/gitbook-backup"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"isRewritePageTitle":false,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right"},"expandable-chapters-small":{},"ga":{"configuration":"auto","token":"UA-119942107-1"},"include-codeblock":{"check":false,"edit":true,"fixlang":false,"lang":"","template":"ace","theme":"chrome","unindent":true},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"编辑本页","base":"https://github.com/Hosiang1026/gitbook-backup/blob/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{}},"theme":"default","author":"Howe Hsiang","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"狂欢马克思-个人笔记","language":"zh-hans","output.name":"site","links":{"sidebar":{"主页":"http://www.hosiang.cn"}},"gitbook":"3.2.3","description":"好记性不如烂笔头，记录日常遇到的问题及学习的成果"},"file":{"path":"vm/docker/docker.md","mtime":"2019-03-15T10:12:51.790Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-03-15T10:17:52.858Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

